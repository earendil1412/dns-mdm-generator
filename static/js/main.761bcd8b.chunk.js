(this["webpackJsonpdns-mdm-generator"]=this["webpackJsonpdns-mdm-generator"]||[]).push([[0],{56:function(e,t,n){e.exports=n(66)},61:function(e,t,n){},62:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),s=n.n(i),o=(n(61),n(22)),l=n(23),c=n(26),p=n(25),d=(n(62),n(103)),u=n(101),m=n(104),y=n(100),g=n(102),h=n(99),v=n(98),k=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={url:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(u.a,{multiline:!0,size:"small",value:this.state.url,InputProps:"HTTPS"===this.props.option?{startAdornment:r.a.createElement(v.a,{position:"start"},"https://"),endAdornment:r.a.createElement(v.a,{position:"end"},"/dns-query")}:{},onChange:function(t){e.props.setUrl(t.target.value),e.setState({url:t.target.value})}})}}]),n}(a.Component),f=n(42),S=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.ipList.map((function(t,n){return[r.a.createElement(u.a,{multiline:!0,size:"small",key:n,value:e.props.ipList[n],error:!f({exact:!0}).test(e.props.ipList[n]),onChange:function(t){return e.props.setIp(n,t.target.value)}}),r.a.createElement(h.a,{size:"small",variant:"outlined",key:n+"-",style:{display:1===e.props.ipList.length?"none":""},onClick:function(){return e.props.removeIp(n)}},"-"),r.a.createElement(h.a,{size:"small",variant:"outlined",key:n+"+",style:{display:e.props.ipList.length===n+1?"":"none"},onClick:e.props.addIp},"+"),r.a.createElement("br",{key:n+"br"})]}))}}]),n}(a.Component),b=n(42),E=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setUrl=function(e){return a.setState({serverName:e})},a.addIp=function(){var e=a.state.ips;e.push(""),a.setState({ips:e})},a.removeIp=function(e){if(1!==a.state.ips.length){var t=a.state.ips;t.splice(e,1),a.setState({ips:t})}},a.setIp=function(e,t){var n=a.state.ips;n[e]=t,a.setState({ips:n})},a.state={ips:[""],profileName:"",option:"TLS",serverName:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Encrypted DNS MDM Generator"),"Profile Name:",r.a.createElement(u.a,{multiline:!0,size:"small",value:this.state.profileName,onChange:function(t){e.setState({profileName:t.target.value})}}),r.a.createElement("br",null),"TLS"===this.state.option?"Server Name:":"Server URL:",r.a.createElement(k,{option:this.state.option,setUrl:this.setUrl}),r.a.createElement("br",null),"IP List:",r.a.createElement("br",null),r.a.createElement(S,{addIp:this.addIp,removeIp:this.removeIp,setIp:this.setIp,ipList:this.state.ips}),r.a.createElement(m.a,{value:this.state.option,row:!0,onChange:function(t,n){e.setState({option:n})}},r.a.createElement(y.a,{value:"TLS",control:r.a.createElement(g.a,null),label:"TLS"}),r.a.createElement(y.a,{value:"HTTPS",control:r.a.createElement(g.a,null),label:"HTTPS"})),r.a.createElement(h.a,{variant:"contained",disableElevation:!0,disabled:0!==this.state.ips.filter((function(e){return!b({exact:!0}).test(e)})).length||""===this.state.serverName||""===this.state.profileName,onClick:function(){return function(e,t){var n=document.createElement("a");n.setAttribute("href","data:xml/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("encrypted-dns.mobileconfig",P(e.state.option,e.state.ips,e.state.profileName,e.state.serverName))}},"Download"))}}]),n}(a.Component);var P=function(e,t,n,a){return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">\n<plist version="1.0">\n    <dict>\n        <key>PayloadContent</key>\n        <array>\n            <dict>\n                <key>DNSSettings</key>\n                <dict>\n                    <key>DNSProtocol</key>\n                    <string>'.concat(e,"</string>\n                    <key>ServerAddresses</key>\n                    <array>\n                        ").concat(t.map((function(e){return"<string>".concat(e,"</string>")})).join("\n                        "),"\n                    </array>\n                    <key>").concat("TLS"===e?"ServerName":"ServerURL","</key>\n                    <string>").concat("TLS"===e?a:"https://"+a+"/dns-query","</string>\n                </dict>\n                <key>PayloadDescription</key>\n                <string>Configures device to use encrypted DNS</string>\n                <key>PayloadDisplayName</key>\n                <string>").concat(n,"</string>\n                <key>PayloadIdentifier</key>\n                <string>com.apple.dnsSettings.managed.").concat(d.a(),"</string>\n                <key>PayloadType</key>\n                <string>com.apple.dnsSettings.managed</string>\n                <key>PayloadUUID</key>\n                <string>").concat(d.a(),"</string>\n                <key>PayloadVersion</key>\n                <integer>1</integer>\n                <key>ProhibitDisablement</key>\n                <false/>\n            </dict>\n        </array>\n        <key>PayloadDescription</key>\n        <string>Adds the encrypted DNS to Big Sur and iOS 14 based systems</string>\n        <key>PayloadDisplayName</key>\n        <string>").concat(n,"</string>\n        <key>PayloadIdentifier</key>\n        <string>com.github.earendil1412.dns-mdm-generator</string>\n        <key>PayloadRemovalDisallowed</key>\n        <false/>\n        <key>PayloadType</key>\n        <string>Configuration</string>\n        <key>PayloadUUID</key>\n        <string>").concat(d.a().toUpperCase(),"</string>\n        <key>PayloadVersion</key>\n        <integer>1</integer>\n    </dict>\n</plist>\n")},I=E;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.761bcd8b.chunk.js.map